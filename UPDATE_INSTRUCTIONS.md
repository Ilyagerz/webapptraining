# 🚀 Инструкция по обновлению на сервере

## ✅ Что исправлено:

### 1. **Telegram авторизация** 
- Добавлено подробное логирование
- Явная загрузка Telegram Web App SDK
- Задержка 500ms для инициализации

### 2. **Дизайн и UI (8 правок)**
- ✅ Текст в темной теме **белый** вместо желто-зеленого
- ✅ Дашборд **видимый в светлой теме** с четкими границами
- ✅ Иконка истории **Calendar** (черная/белая) вместо History (зеленой)
- ✅ На главной добавлены: **Пустая тренировка + Мои программы + Создать программу**
- ✅ В истории **кнопки не пропадают** (отступ снизу увеличен)
- ✅ Обводки фильтров **видны в светлой теме** (белые с тенью)
- ✅ Отступ сверху **50px** на всех страницах
- ✅ Все тексты **правильных цветов** в обеих темах

---

## 📱 На сервере выполни:

```bash
cd ~/webapptraining
git pull origin main
npm run build
pm2 restart all
```

---

## 🔍 Проверка:

1. **Открой через Telegram:**
   - Найди своего бота
   - Нажми Web App
   - Должна пройти автоматическая авторизация

2. **Проверь UI:**
   - Светлая тема: всё видно, четкие границы
   - Темная тема: белый текст
   - Иконки: Calendar (черная/белая) в истории
   - На главной: 3 новых блока (Пустая тренировка, Программы, Создать)

3. **Логи (если нужно отладить):**
   ```bash
   pm2 logs --lines 50
   ```

---

## 📝 Структура главной страницы (Dashboard):

```
┌─────────────────────────────────────┐
│ Привет, Илья! 👋                    │
│ Готов к тренировке?                 │
├─────────────────────────────────────┤
│ Активность за неделю                │
│ [График столбцами]                  │
├─────────────────────────────────────┤
│ [➕] Пустая тренировка              │
│     Начать без шаблона              │
├─────────────────────────────────────┤
│ Мои программы              Все →    │
│  • Push/Pull/Legs (12 упражнений)   │
│  • Full Body (8 упражнений)         │
├─────────────────────────────────────┤
│ [📄] Создать программу              │
│     Новый шаблон тренировки         │
├─────────────────────────────────────┤
│                                     │
│                                     │
├─────────────────────────────────────┤
│  📅 История  |  ▶️ Начать  |  👤 Профиль │
└─────────────────────────────────────┘
```

---

## 🎨 Цветовая схема:

### Светлая тема:
- Фон: **белый**
- Текст: **черный** (#000)
- Второстепенный текст: **серый** (#6b7280)
- Карточки: **белые с границей** и **тенью**
- Акцент: **лаймовый** (#C6FF00)

### Темная тема:
- Фон: **темно-серый** (#0a0a0a)
- Текст: **белый** (#fff)
- Второстепенный текст: **светло-серый** (#d1d5db)
- Карточки: **темно-серые (#1f2937)** с границей
- Акцент: **лаймовый** (#C6FF00)

---

## 🐛 Если что-то не работает:

1. **Проверь логи PM2:**
   ```bash
   pm2 logs nubo-training-backend --lines 50
   pm2 logs nubo-training-frontend --lines 50
   ```

2. **Проверь статус:**
   ```bash
   pm2 status
   ```

3. **Полный перезапуск:**
   ```bash
   pm2 delete all
   npm run build
   pm2 start ecosystem.config.js
   ```

4. **Проверь Nginx:**
   ```bash
   sudo systemctl status nginx
   sudo tail -f /var/log/nginx/nubotraining-error.log
   ```

---

## ✨ Готово!

Теперь приложение полностью функционально с красивым UI в обеих темах! 🎉

