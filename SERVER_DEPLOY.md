# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!

–í—Å–µ —Ñ–∞–π–ª—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ.

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@—Ç–≤–æ–π-—Å–µ—Ä–≤–µ—Ä-ip
cd ~/webapptraining
```

### 2Ô∏è‚É£ –ü–æ–ª—É—á–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git pull origin main
```

–ï—Å–ª–∏ Git –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
apt update && apt install -y git
```

–ï—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
```bash
git init
git remote add origin https://github.com/—Ç–≤–æ–π-username/webapptraining.git
git fetch origin
git checkout main
```

### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 4Ô∏è‚É£ –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç

```bash
NODE_ENV=production npm run build
```

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å —Å–±–æ—Ä–∫—É

```bash
ls -la .next/BUILD_ID
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª —Å –¥–∞—Ç–æ–π —Å–æ–∑–¥–∞–Ω–∏—è.

### 6Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PM2

```bash
pm2 restart all
pm2 logs --lines 50
```

### 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å

```bash
pm2 status
```

–û–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (`nubo-training-frontend` –∏ `nubo-training-backend`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `online`.

### 8Ô∏è‚É£ –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://training.nubofit.ru

---

## üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Git pull –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
git status

# –ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Ç–º–µ–Ω–∏ –∏—Ö
git reset --hard origin/main

# –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞
git pull origin main
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
# –û—á–∏—Å—Ç–∏ –∫–µ—à –∏ node_modules
rm -rf node_modules .next
npm cache clean --force
npm install
npm run build
```

### –ü—Ä–æ–±–ª–µ–º–∞: PM2 –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 stop all
pm2 delete all

# –ó–∞–ø—É—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ
pm2 start ecosystem.config.js

# –°–æ—Ö—Ä–∞–Ω–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save
pm2 startup
```

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs nubo-training-frontend --lines 100
pm2 logs nubo-training-backend --lines 100

# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞—é—Ç—Å—è
ss -tulpn | grep :3000
ss -tulpn | grep :3001

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Nginx
systemctl restart nginx
```

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **`.env.local`** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
2. **`data/exercises.json`** –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –Ω–µ—Ç - —Å–∫–æ–ø–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω—ã–π)
3. **PM2** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
4. **Nginx** –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ—Ä—Ç 3000

---

## ‚ú® –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- ‚úÖ –ó–∞–ø—É—Å–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª - —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:
```bash
# PM2 –ª–æ–≥–∏
pm2 logs --lines 200

# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/nubotraining-error.log

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
journalctl -u nginx -n 100
```

