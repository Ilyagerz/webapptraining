# üöÄ –ì–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é NUBO Training

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

### 1. –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞

–î–ª—è Next.js + Express —É —Ç–µ–±—è 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞:

#### **–í–∞—Ä–∏–∞–Ω—Ç A: Vercel + Railway (–†–ï–ö–û–ú–ï–ù–î–£–Æ)**
- **Frontend (Next.js):** Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Backend (Express):** Railway (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ $5/–º–µ—Å)
- **–î–æ–º–µ–Ω:** training.nubofit.ru ‚Üí Vercel

**–ü–ª—é—Å—ã:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ GitHub
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è Backend –∏ Frontend —Ä–∞–∑–¥–µ–ª—å–Ω–æ
- ‚ö†Ô∏è –ù—É–∂–µ–Ω MongoDB Atlas (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

---

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –¢–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ (VPS/Shared)**
- **–í—Å–µ –≤ –æ–¥–Ω–æ–º:** Frontend + Backend –Ω–∞ —Ç–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ
- **–î–æ–º–µ–Ω:** training.nubofit.ru

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ú–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Node.js –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
- ‚ö†Ô∏è –ù—É–∂–µ–Ω PM2 –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- ‚ö†Ô∏è –†—É—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD)

---

#### **–í–∞—Ä–∏–∞–Ω—Ç C: Telegram Mini App —Ö–æ—Å—Ç–∏–Ω–≥**
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Telegram Mini Apps
- –ù–∞–ø—Ä–∏–º–µ—Ä: Cloudflare Pages, Netlify

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —Ç–µ–±—è

**–í–∞—Ä–∏–∞–Ω—Ç A (Vercel + Railway)**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. –ë—ã—Å—Ç—Ä–µ–µ –≤—Å–µ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å (30 –º–∏–Ω—É—Ç)
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Git
3. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
4. –ú–æ–∂–Ω–æ –ø–æ—Ç–æ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (Vercel + Railway)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# 1. –°–æ–∑–¥–∞–π .gitignore –µ—Å–ª–∏ –Ω–µ—Ç
echo "node_modules
.next
.env.local
.DS_Store" > .gitignore

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª)
git init
git add .
git commit -m "Initial commit - NUBO Training v0.9.5"

# 3. –°–æ–∑–¥–∞–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
# –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ github.com ‚Üí New repository
# –ù–∞–∑–≤–∞–Ω–∏–µ: nubo-training

# 4. –ó–∞–ø—É—à –∫–æ–¥
git remote add origin https://github.com/–¢–≤–æ–πUsername/nubo-training.git
git branch -M main
git push -u origin main
```

---

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π Backend –Ω–∞ Railway

```
1. –û—Ç–∫—Ä–æ–π https://railway.app
2. Sign up with GitHub
3. New Project ‚Üí Deploy from GitHub repo
4. –í—ã–±–µ—Ä–∏ nubo-training
5. Add variables:
   - NODE_ENV=production
   - JWT_SECRET=—Ç–≤–æ–π_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
   - TELEGRAM_BOT_TOKEN=8187775383:AAG6r4d_S7pOjt8UcTQzPnuNwvacriPR-B4
   - PORT=3001
6. Settings ‚Üí Networking ‚Üí Generate Domain
7. –°–∫–æ–ø–∏—Ä—É–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: nubo-training-production.up.railway.app)
```

**–í–∞–∂–Ω–æ:** –ù—É–∂–µ–Ω `railway.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞!

---

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π Frontend –Ω–∞ Vercel

```
1. –û—Ç–∫—Ä–æ–π https://vercel.com
2. Sign up with GitHub
3. Import Project ‚Üí nubo-training
4. Configure:
   - Framework Preset: Next.js
   - Root Directory: ./
   - Build Command: npm run build
   - Output Directory: .next
5. Environment Variables:
   - NEXT_PUBLIC_API_URL=https://—Ç–≤–æ–π-railway-url.railway.app
   - NEXT_PUBLIC_APP_URL=https://training.nubofit.ru
   - JWT_SECRET=—Ç–æ—Ç_–∂–µ_—á—Ç–æ_–≤_railway
6. Deploy
7. Settings ‚Üí Domains ‚Üí Add training.nubofit.ru
```

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º nubofit.ru:

```
–¢–∏–ø: CNAME
–ò–º—è: training
–ó–Ω–∞—á–µ–Ω–∏–µ: cname.vercel-dns.com
TTL: 3600
```

–ü–æ–¥–æ–∂–¥–∏ 5-30 –º–∏–Ω—É—Ç ‚Üí –¥–æ–º–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üîß –§–∞–π–ª—ã –¥–ª—è Railway

–°–æ–∑–¥–∞–π `railway.json` –≤ –∫–æ—Ä–Ω–µ:

```json
{
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "node server/index.js",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

---

## üóÑÔ∏è MongoDB Atlas (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

**–ö–†–ò–¢–ò–ß–ù–û:** –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞!

```
1. –û—Ç–∫—Ä–æ–π https://cloud.mongodb.com
2. Sign up (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. Create Cluster (Free M0)
4. Database Access ‚Üí Add User
   - Username: nubotraining
   - Password: (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Å–ª–æ–∂–Ω—ã–π)
5. Network Access ‚Üí Add IP: 0.0.0.0/0 (—Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ)
6. Database ‚Üí Connect ‚Üí Drivers
7. –°–∫–æ–ø–∏—Ä—É–π Connection String:
   mongodb+srv://nubotraining:<password>@cluster0.xxxxx.mongodb.net/
8. –î–æ–±–∞–≤—å –≤ Railway –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - MONGODB_URI=—Ç–≤–æ—è_—Å—Ç—Ä–æ–∫–∞_–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

---

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ–±–Ω–æ–≤–∏ BotFather:

```
1. –û—Ç–∫—Ä–æ–π @BotFather
2. /mybots ‚Üí –¢–≤–æ–π –±–æ—Ç
3. Bot Settings ‚Üí Menu Button ‚Üí Edit Menu Button URL
4. –í–≤–µ–¥–∏: https://training.nubofit.ru
```

---

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
# –í–Ω–æ—Å–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
# –ö–æ–º–º–∏—Ç–∏—à—å
git add .
git commit -m "Added new feature"

# –ü—É—à–∏—à—å –≤ GitHub
git push

# Vercel –∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ—è—Ç! üöÄ
```

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** 2-5 –º–∏–Ω—É—Ç

---

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –î–µ–ø–ª–æ–π –Ω–∞ —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É:
- ‚úÖ Node.js 18+ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ PM2 –∏–ª–∏ systemd
- ‚úÖ Nginx (reverse proxy)
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

### –ü—Ä–æ—Ü–µ—Å—Å:

#### 1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∏ PM2
npm install -g pm2

# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/–¢–≤–æ–πUsername/nubo-training.git
cd nubo-training

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ë–∏–ª–¥ Next.js
npm run build

# –°–æ–∑–¥–∞–π .env.local
nano .env.local
# (–≤—Å—Ç–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

# –ó–∞–ø—É—Å—Ç–∏ —Å PM2
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

#### 2. Nginx –∫–æ–Ω—Ñ–∏–≥:
```nginx
server {
    server_name training.nubofit.ru;
    
    # Frontend (Next.js)
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
    
    # Backend (Express)
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    listen 443 ssl;
    ssl_certificate /etc/letsencrypt/live/training.nubofit.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/training.nubofit.ru/privkey.pem;
}

server {
    listen 80;
    server_name training.nubofit.ru;
    return 301 https://$server_name$request_uri;
}
```

#### 3. SSL:
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d training.nubofit.ru
```

#### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
cd /path/to/nubo-training
git pull
npm install
npm run build
pm2 restart all
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Vercel+Railway | –°–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ |
|----------|----------------|--------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | 30 –º–∏–Ω | 2-4 —á–∞—Å–∞ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å (—Å—Ç–∞—Ä—Ç)** | $0 | –¢–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ |
| **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π** | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å) |
| **SSL** | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Let's Encrypt |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | –í—Ä—É—á–Ω—É—é |
| **–ö–æ–Ω—Ç—Ä–æ–ª—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π | –ü–æ–ª–Ω—ã–π |
| **MongoDB** | Atlas (–æ–±–ª–∞–∫–æ) | –ú–æ–∂–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ |

---

## üéØ –ú–æ–π —Å–æ–≤–µ—Ç

### –ù–∞ —Å—Ç–∞—Ä—Ç–µ:
**–ò—Å–ø–æ–ª—å–∑—É–π Vercel + Railway**
- –ë—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å—Ç–∏—à—å
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –°—Ñ–æ–∫—É—Å–∏—Ä—É–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –ö–æ–≥–¥–∞ –≤—ã—Ä–∞—Å—Ç–µ—à—å:
**–ú–∏–≥—Ä–∏—Ä—É–π –Ω–∞ —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥**
- –ë–æ–ª—å—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –•–æ—á–µ—à—å —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] MongoDB Atlas –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω
- [ ] .env.local –Ω–µ –≤ Git (.gitignore)
- [ ] JWT_SECRET >= 32 —Å–∏–º–≤–æ–ª–∞
- [ ] Telegram Bot Token –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ package.json
- [ ] npm run build —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–ª–æ–≥–∏–Ω
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

---

## üöÄ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é?

**–í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é):** –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Vercel + Railway  
**–í–∞—Ä–∏–∞–Ω—Ç 2:** –ù–∞—Å—Ç—Ä–æ–π —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –°–∫–∞–∂–∏ –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±—Ä–∞–ª, –ø–æ–º–æ–≥—É —Å –∫–æ–Ω—Ñ–∏–≥–∞–º–∏! üí™

